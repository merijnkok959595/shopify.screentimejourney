{% if settings.dbtfy_infinite_scroll %}
  {{ 'dbtfy-infinite-scroll.css' | asset_url | stylesheet_tag: preload: true }}

  {%- render 'widget-settings', key: 'infinite-scroll', settings: block.settings -%}
  <script src="{{ 'dbtfy-infinite-scroll.js' | asset_url }}" defer></script>
{% endif %}

{% schema %}
{
  "name": "t:settings_schema.dbfty_infinite_scroll.name",
  "settings": [
    {
      "type": "paragraph",
      "content": "t:settings_schema.dbfty_infinite_scroll.help.info"
    },
    {
      "type": "header",
      "content": "t:blocks.help.header"
    },
    {
      "type": "paragraph",
      "content": "t:settings_schema.dbfty_infinite_scroll.help.link"
    },
    {
      "type": "paragraph",
      "content": "t:blocks.help.paid_info"
    },
    {
      "type": "select",
      "id": "infinite_scroll_type",
      "label": "t:settings_schema.dbfty_infinite_scroll.settings.type_select.label",
      "default": "click",
      "options": [
        {
          "value": "click",
          "label": "t:settings_schema.dbfty_infinite_scroll.settings.type_select.options__1.label"
        },
        {
          "value": "scroll",
          "label": "t:settings_schema.dbfty_infinite_scroll.settings.type_select.options__2.label"
        }
      ]
    },
    {
      "type": "inline_richtext",
      "id": "infinite_scroll_button",
      "label": "t:settings_schema.dbfty_infinite_scroll.settings.button.label",
      "default": "t:settings_schema.dbfty_infinite_scroll.settings.button.default"
    },
    {
      "type": "select",
      "id": "banner_button_style",
      "label": "t:sections.all.button.label",
      "options": [
        {
          "value": "link underlined-link button--link",
          "label": "t:sections.all.button.options__1.label"
        },
        {
          "value": "button button--tertiary",
          "label": "t:sections.all.button.options__2.label"
        },
        {
          "value": "button button--primary",
          "label": "t:sections.all.button.options__3.label"
        },
        {
          "value": "button button--secondary",
          "label": "t:sections.all.button.options__4.label"
        }
      ],
      "default": "button button--secondary"
    },
    {
      "type": "select",
      "id": "button_size",
      "default": "inherit",
      "label": "t:general.settings.size.label",
      "options": [
        { "value": "inherit", "label": "t:general.settings.size.option__1" },
        { "value": "button--small", "label": "t:general.settings.size.option__3" },
        { "value": "button--medium", "label": "t:general.settings.size.option__5" },
        { "value": "", "label": "t:general.settings.size.option__10" }
      ]
    },
    {
      "type": "image_picker",
      "id": "infinite_scroll_loading_image",
      "label": "t:settings_schema.dbfty_infinite_scroll.settings.images_scroll.label",
      "info": "t:settings_schema.dbfty_infinite_scroll.settings.images_scroll.info"
    }
  ],
  "presets": [
    {
      "name": "t:settings_schema.dbfty_infinite_scroll.name"
    }
  ]
}
{% endschema %}
