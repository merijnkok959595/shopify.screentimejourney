customElements.get("agree-to-terms-page")||customElements.define("agree-to-terms-page",class extends HTMLElement{connectedCallback(){this.agreeCheckbox=this.querySelector("input"),this.agreeCheckbox&&("true"===localStorage.getItem("dbtfy-agree-to-terms-page")&&(this.agreeCheckbox.checked=!0),Debutify.checkout["dbtfy-agree-to-terms-page"]=this.agreeCheckbox.checked,checkoutButtonHandler(),this.agreeCheckboxHanlder())}agreeCheckboxHanlder(){this.agreeCheckbox.addEventListener("change",(()=>{const e=this.agreeCheckbox.checked;this.updateTermsConditions(e),Debutify.checkout["dbtfy-agree-to-terms-page"]=e,checkoutButtonHandler()}))}async updateTermsConditions(e){const t={attributes:{agree_condition:e}};try{const a=await fetch(`${window.routes.cart_update_url}.js`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});localStorage.setItem("dbtfy-agree-to-terms-page",e);const o=await a.json();publish(PUB_SUB_EVENTS.cartUpdate,{source:"cart-items",cartData:o})}catch(e){console.error("Error updating cart:",e)}}});