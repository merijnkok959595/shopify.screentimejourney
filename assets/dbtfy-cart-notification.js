customElements.get("dbtfy-cart-notification")||customElements.define("dbtfy-cart-notification",class extends HTMLElement{constructor(){super(),this.blockId=this.dataset.blockId,this.img=this.querySelector(".dbtfy-cart-notification .dbtfy-cart-notification__img"),this.blockText=this.querySelector(".dbtfy-cart-notification .dbtfy-cart-notification__block--text .title"),this.closeIcon=this.dataset.closeIcon,this.colorScheme=this.dataset.colorScheme,this.customColorScheme=this.dataset.customColorScheme,this.showOnDeviceCheck=this.dataset.showOnDevice,this.testMode=Shopify.designMode,this.selectEvent=null,this.deselectEvent=null}disconnectedCallback(){this.testMode&&(this.toast?.destroyToast(),this.selectEvent(),this.deselectEvent())}connectedCallback(){this.testMode?(this.selectEvent=subscribe(PUB_SUB_EVENTS.cartNotificationSelect,(t=>{this.toast=new Debutify.toast(this.innerHTML,{position:"bottom-center",closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.customColorScheme,maxWidth:"100%"})})),this.deselectEvent=subscribe(PUB_SUB_EVENTS.cartNotificationDeselect,(t=>{this.toast?.hideToast()}))):this.showOnDevice()&&(this.unsubscribe=subscribe(PUB_SUB_EVENTS.cartUpdate,(t=>{"product-form"===t.source&&(this.img&&(this.img.src=t.cartData.featured_image.url),this.blockText.innerHTML=Debutify.replaceVariables(Debutify.widgets["cart-notification"].text,{product_title:t.cartData.product_title}),setTimeout((()=>{this.toast=new Debutify.toast(this.innerHTML,{position:"bottom-center",duration:3e3,closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.customColorScheme,maxWidth:"100%"})}),500))})))}showOnDevice(){return"both"===this.showOnDeviceCheck||"desktop-only"===this.showOnDeviceCheck&&window.innerWidth>=750||"mobile-only"===this.showOnDeviceCheck&&window.innerWidth<750}});