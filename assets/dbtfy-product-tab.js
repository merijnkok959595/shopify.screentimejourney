customElements.get("dbtfy-product-tab")||customElements.define("dbtfy-product-tab",class extends HTMLElement{constructor(){if(super(),this.productTab=this.querySelectorAll(".dbtfy-product-tab-block"),this.displayType=this.dataset.displayType,this.block=this.dataset.block,"false"==this.block)this.content=document.querySelector("product-info .dbtfy-product-tabs");else{const t=document.querySelector(".dbtfy-product-tabs.shown-as-separate");t&&(t.classList.remove("hidden"),this.content=document.querySelector(".dbtfy-product-tabs.shown-as-separate .d-grid"),"horizontal"==this.displayType&&document.querySelectorAll(".dbtfy-product-tab").forEach((t=>{t.classList.add("dbtfy-product-tabs-horizontal")})))}"horizontal"==this.displayType?(this.horizontalselector=document.querySelectorAll("dbtfy-product-tab-horizontal"),this.horizontalselector.forEach((t=>{t.setAttribute("data-display-type",this.displayType)}))):(this.verticalSelector=document.querySelectorAll(".dbtfy-product-tab-block"),this.verticalSelector.forEach((t=>{t.classList.add("grid--12-col")}))),this.testMode=Shopify.designMode}disconnectedCallback(){this.testMode&&this.selectEvent()}connectedCallback(){this.testMode?(this.selectEvent=subscribe(PUB_SUB_EVENTS.shopifyEventBlockSelect,(t=>{"widget-product-tabs"===t.detail.blockId&&this.init()})),this.init()):this.init()}init(){if(this.content){this.content.innerHTML="",this.content.classList.remove("hidden");const t=this.content.dataset.product;if("horizontal"==this.displayType&&"true"==this.block){document.querySelector(".shown-as-separate").classList.add("dbtfy-product-tab--horizontal-active"),this.content=document.querySelector(".dbtfy-product-tabs--description"),this.productTab=document.querySelectorAll(".product-tab-content"),this.productTab.length>0&&(this.productTab[0].classList.remove("hidden"),this.productTab.forEach((t=>{this.content.contains(t)||this.content.append(t)})));let t="";document.querySelectorAll(".dbtfy-product-tab-block").forEach((e=>{e.querySelector(".summary-icon-caret").remove(),t+=e.outerHTML,e.remove()})),document.querySelector(".dbtfy-product-tabs--title").innerHTML=t;document.querySelectorAll(".dbtfy-product-tabs--title .dbtfy-product-tab-block").length>0&&document.querySelectorAll(".dbtfy-product-tabs--title .dbtfy-product-tab-block")[0].querySelector(".product-tab-details").classList.add("product-tab-active")}else this.productTab&&this.productTab.forEach((e=>{t&&e.dataset.product&&e.dataset.product!=t||this.content.append(e)}))}document.querySelectorAll(".product-tab-details").forEach((t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-id").replace("title","content"),o=document.querySelector(`.product-tab-content[data-id="${e}"]`);document.querySelectorAll(".product-tab-content").forEach((t=>{t!==o&&t.classList.add("hidden")})),o.classList.toggle("hidden"),document.querySelectorAll(`.dbtfy-product-tabs  .product-tab-details:not([data-id="${e}"])`).forEach((t=>{t.classList.remove("product-tab-active")})),t.classList.toggle("product-tab-active")}))})),document.querySelector(".product-rating-badge")?.addEventListener("click",(function(){const t=document.getElementById("prouct-tab-review"),e=t.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:e,behavior:"smooth"});const o=t.querySelector(".product-tab-details");o.classList.contains("product-tab-active")||o.click()}))}});