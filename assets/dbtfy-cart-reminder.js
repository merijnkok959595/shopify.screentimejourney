customElements.get("dbtfy-cart-reminder")||customElements.define("dbtfy-cart-reminder",class extends HTMLElement{constructor(){super(),this.blockId=this.dataset.blockId,this.closeIcon=this.dataset.closeIcon,this.colorScheme=this.dataset.colorScheme,this.CustomColorScheme=this.dataset.customColorScheme,this.img=this.querySelector("dbtfy-cart-reminder .dbtfy-cart-reminder__img"),this.titleSelector=this.querySelector("dbtfy-cart-reminder .dbtfy-cart-reminder__text"),this.displayTime=1e3*this.dataset.displayTime,this.intervalTime=1e3*this.dataset.intervalTime,this.position=this.dataset.position,this.interval=parseInt(this.intervalTime)+parseInt(this.displayTime),this.showOnDeviceCheck=this.dataset.showOnDevice,this.toast=null,this.counter=0,this.testMode=Shopify.designMode,this.selectEvent=null,this.deselectEvent=null}disconnectedCallback(){this.testMode&&(this.toast?.destroyToast(),this.selectEvent(),this.deselectEvent())}connectedCallback(){!this.testMode&&this.showOnDevice()&&(this.reminderInterval=setInterval((()=>{Debutify.cart.items.length>0&&(this.updateReminder(Debutify.cart.items[this.counter]?.image,Debutify.cart.items[this.counter]?.product_title),this.toast=new Debutify.toast(this.innerHTML,{position:this.position,duration:this.displayTime,closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.CustomColorScheme}),this.counter++,this.counter>=Debutify.cart.items.length&&(this.counter=0))}),this.interval)),this.testMode&&(this.selectEvent=subscribe(PUB_SUB_EVENTS.cartReminderSelect,(t=>{this.toast=new Debutify.toast(this.innerHTML,{position:this.position,closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.CustomColorScheme})})),this.deselectEvent=subscribe(PUB_SUB_EVENTS.cartReminderDeselect,(t=>{this.toast?.hideToast()})))}updateReminder(t,e){this.titleSelector&&(this.titleSelector.innerHTML=Debutify.replaceVariables(Debutify.widgets["cart-reminder"].text,{product_title:e})),this.img&&(this.img.src=t)}showOnDevice(){return"both"===this.showOnDeviceCheck||"desktop-only"===this.showOnDeviceCheck&&window.innerWidth>=750||"mobile-only"===this.showOnDeviceCheck&&window.innerWidth<750}});