customElements.get("cart-upsell")||customElements.define("cart-upsell",class extends HTMLElement{constructor(){super(),this.slider=this.querySelector(".upsell-slider"),this.slider_template=this.querySelector("#slider_template");const e=this;setTimeout((function(){e.data=Debutify.widgets.cart_upsell,e.cartItems=Debutify.cart.items,e.init()}),1e3)}init(){this.getEligibleUpsell()}getEligibleUpsell(){let e=this.cartItems.map((e=>e.handle)),t=this.data.specific.filter((t=>e.includes(t.product_trigger)));if(t.length?this.upsellProduct=t:this.upsellProduct=this.data.global,!this.upsellProduct)return;let l=this.slider_template.innerHTML,s="";if(this.upsellProduct.forEach((e=>{s+=e.card_html})),"true"===this.dataset.hideInCart){const t=(new DOMParser).parseFromString(`<ul>${s}</ul>`,"text/html");t.querySelectorAll("li.grid__item").forEach((t=>{const l=t.getAttribute("data-handle");e.includes(l)&&t.remove()})),s=t.body.querySelector("ul").innerHTML}l=Debutify.replaceVariables(l,{slides:s}),this.slider.innerHTML=l,this.classList.remove("hidden"),this.querySelector(".card-upsell-slider li")?this.querySelectorAll(".card-upsell-slider li").length<3&&"true"===this.dataset.alignment&&this.querySelector(".card-upsell-slider").classList.add("justify-content-center"):this.classList.add("hidden")}});