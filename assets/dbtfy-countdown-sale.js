customElements.get("dbtfy-countdown")||customElements.define("dbtfy-countdown",class extends HTMLElement{constructor(){if(super(),!(this.dataset.time.length||this.dataset.infiniteMinute&&0!=this.dataset.infiniteMinute))return void(this.innerHTML="Please add the unix time in the settings");this.hideOnExpired="true"===this.dataset.hideOnExpired,this.sectionIdSelector=this.dataset.sectionId;let t=1e3*Number(this.dataset.time);this.dataset.infiniteMinute&&0!=this.dataset.infiniteMinute&&(t=this.addMinutesToCurrentTimestamp(Number(this.dataset.infiniteMinute)));const e=setInterval((()=>{const i=(new Date).getTime(),s=t-i;if(s<=0)this.hideOnExpired&&this.sectionIdSelector&&(clearInterval(e),document.querySelector(this.sectionIdSelector).classList.add("hidden")),this.dataset.infiniteMinute&&0!=this.dataset.infiniteMinute?t=this.addMinutesToCurrentTimestamp(Number(this.dataset.infiniteMinute)):(clearInterval(e),this.innerHTML=this.dataset.textExpired,this.classList.add("expired"));else{const t=Math.floor(s/864e5),e=Math.floor(s%864e5/36e5),i=Math.floor(s%36e5/6e4),n=Math.floor(s%6e4/1e3);this.querySelector("[data-days]").innerHTML=`${t} <em>${this.dataset.textDays}</em>`,this.querySelector("[data-hours]").innerHTML=`${e} <em>${this.dataset.textHours}</em>`,this.querySelector("[data-min]").innerHTML=`${i} <em>${this.dataset.textMin}</em>`,this.querySelector("[data-sec]").innerHTML=`${n} <em>${this.dataset.textSec}</em>`}}),1e3)}addMinutesToCurrentTimestamp(t){return Math.floor(Date.now())+60*t*1e3}});