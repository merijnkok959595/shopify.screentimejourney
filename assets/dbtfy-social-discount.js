customElements.get("dbtfy-social-discount")||customElements.define("dbtfy-social-discount",class extends HTMLElement{constructor(){super(),this.socialMedia=this.querySelectorAll(".dbtfy-social-discount-modal-social-sharing"),this.discountName=this.dataset.discountName,this.sharingButton=this.querySelector(".dbtfy-social-discount-sharing-modal button"),this.sharingButtonWrapper=this.querySelector(".dbtfy-social-discount-sharing-modal")}connectedCallback(){void 0!==Debutify.modal?this.loadModels():document.addEventListener("DOMContentLoaded",(()=>{this.loadModels()}))}loadModels(){this.socialSharing=new Debutify.modal({closeMethods:["overlay","button","escape"],size:"medium",closeIcon:"close",selector:"dbtfy-social-discount-modal",boxClass:["dbtfy-social-discount-modal"],overlayClass:[],onOpen:function(){},onClose:function(){}}),this.thankYou=new Debutify.modal({closeMethods:["overlay","button","escape"],size:"medium",closeIcon:"close",selector:"dbtfy-social-discount-thank-you-modal",boxClass:["dbtfy-social-discount-modal"],overlayClass:[],onOpen:function(){},onClose:function(){}}),this.designMode=Shopify.designMode,this.designMode||this.storageValue()}storageValue(){localStorage.getItem("DebutifySocialDiscount")?(this.socialSharing.close(),this.socialMediaShow(),this.sharingButtonWrapper&&this.sharingButtonWrapper.classList.add("hidden")):(this.socialLinks=this.socialSharing.modalBox.querySelectorAll(".dbtfy-social-discount-modal-social-sharing a"),this.sharingButtonWrapper&&this.sharingButtonWrapper.classList.remove("hidden"),this.socialShareButton(),this.socialDiscount())}socialMediaShow(){this.socialMedia.forEach((s=>{s.classList.contains("hidden")&&s.classList.remove("hidden")}))}socialShareButton(){this.sharingButton.onclick=()=>{this.socialSharing.open()}}socialDiscount(){const s=this.thankYou.modalBox.querySelector(".dbtfy-close-thankyou");s&&(s.onclick=()=>{navigator.clipboard.writeText(this.discountName),this.thankYou&&this.thankYou.close()}),this.socialLinks&&this.socialLinks.forEach((s=>{s.onclick=()=>{this.socialSharing&&this.socialSharing.close(),this.thankYou&&this.thankYou.open(),localStorage.setItem("DebutifySocialDiscount","Yes"),this.storageValue()}}))}});