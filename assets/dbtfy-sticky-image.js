customElements.get("dbtfy-sticky-image")||customElements.define("dbtfy-sticky-image",class extends HTMLElement{constructor(){super(),this.stickyWrapper=this.querySelector(".dbtfy-sticky-image-wrapper"),window.addEventListener("scroll",(()=>{const t=window.innerHeight,e=this.getBoundingClientRect().top,r=this.getBoundingClientRect().bottom,s=Math.round(e/t*100),i=Math.round(r/t*100),o=Number(this.stickyWrapper.dataset.overlayOpacity);let n=0;s>0&&s<100?n=Math.round((100-o)*s/100+o):i>0&&i<100&&(n=Math.round((100-o)*(1-i/100)+o)),n&&this.stickyWrapper.style.setProperty("--overlay-opacity",n+"%")}));const t=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&t.target.play()}))}),{rootMargin:"0px 0px 300px 0px"});this.querySelectorAll('video[data-autoplay="true"]').forEach((e=>{t.observe(e)}))}});